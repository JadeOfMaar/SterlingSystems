// Reactors
// - - Molten Salt
@PART[strl-rctrms-*]
{
	@cost *= #$/refPower$
	energyStart = 50000
	energyNorminal = 15000
	@energyStart *= #$/refPower$
	@energyNorminal *= #$/refPower$
	MaxCoolant = 900
	@MaxCoolant *= #$/refPower$
	
	RESOURCE
	{
		name = FissileFuel
		amount = 400
		maxAmount = 400
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = FizzledFuel
		amount = 0
		maxAmount = 400
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = ThermalPower
		amount = 800
		maxAmount = 800
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	
	MODULE
	{
		name = ModuleOverheatDisplay
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Molten Salt Reactor
		StartActionName = Start Molten Salt Reactor
		StopActionName = Stop Molten Salt Reactor
		ToggleActionName = Toggle Molten Salt Reactor
		AutoShutdown = true
		GeneratesHeat = true
		DefaultShutoffTemp = 0.8
		EfficiencyBonus = 1
		resourceOutputName = ThermalPower
		
		TemperatureModifier
		{
			key = #0 $/energyStart$ 0 0
			key = #800 $/energyNorminal$ 0 0
			key = 801 0
		}
		ThermalEfficiency
		{
			key = 0 0 0 0
			key = 400 0.2
			key = 800 1 0 0
			key = 1400 0.2
			key = 2000 0 0 0
		}
		INPUT_RESOURCE
		{
			ResourceName = FissileFuel
			Ratio = 0.00000141278
			@Ratio *= #$/refPower$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = FizzledFuel
			Ratio = 0.00000141278
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ThermalPower
			Ratio = 130
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	
	MODULE
	{
		name = ModuleCoreHeat
		//Internal temp goal - we don't transfer till we hit this point
		CoreTempGoal = 801
		//At what core temperature do we shut down all generators on this part?
		CoreShutdownTemp = 1600
		//Maximum amount of radiator capacity we can consume - 50 = 1 small		
		MaxCoolant = #$/MaxCoolant$
		
		// Uninteresting stuff
		CoreToPartRatio = 0.1
		CoreTempGoalAdjustment = 0
		CoreEnergyMultiplier = 0.1
		HeatRadiantMultiplier = 0.05
		CoolingRadiantMultiplier = 0
		HeatTransferMultiplier = 0
		CoolantTransferMultiplier = 0.01
		radiatorCoolingFactor = 1
		radiatorHeatingFactor = 0.05
		MaxCalculationWarp = 1000
	}
}

// - - Pebble Bed
@PART[strl-rctrpb-*]
{
	@cost *= #$/refPower$
	energyStart = 50000
	energyNorminal = 15000
	@energyStart *= #$/refPower$
	@energyNorminal *= #$/refPower$
	MaxCoolant = 900
	@MaxCoolant *= #$/refPower$
	
	RESOURCE
	{
		name = FissilePebbles
		amount = 400
		maxAmount = 400
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = FizzledPebbles
		amount = 0
		maxAmount = 400
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = ThermalPower
		amount = 800
		maxAmount = 800
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	
	MODULE
	{
		name = ModuleOverheatDisplay
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Pebble Bed Reactor
		StartActionName = Start Pebble Bed Reactor
		StopActionName = Stop Pebble Bed Reactor
		ToggleActionName = Toggle Pebble Bed Reactor
		AutoShutdown = true
		GeneratesHeat = true
		DefaultShutoffTemp = 0.8
		EfficiencyBonus = 1
		resourceOutputName = ThermalPower
		
		TemperatureModifier
		{
			key = #0 $/energyStart$ 0 0
			key = #1300 $/energyNorminal$ 0 0
			key = 1301 0
		}
		ThermalEfficiency
		{
			key = 0 0
			key = 700 0.1 0.0002361563 0.0002361563
			key = 1000 0.3
			key = 1300 1 0 0
			key = 1600 0.2
			key = 2000 0 0 0
		}
		INPUT_RESOURCE
		{
			ResourceName = FissilePebbles
			Ratio = 0.0000141278
			@Ratio *= #$/refPower$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = FizzledPebbles
			Ratio = 0.0000141278
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ThermalPower
			Ratio = 1020
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	
	MODULE
	{
		name = ModuleCoreHeat
		//Internal temp goal - we don't transfer till we hit this point
		CoreTempGoal = 1301
		//At what core temperature do we shut down all generators on this part?
		CoreShutdownTemp = 2000
		//Maximum amount of radiator capacity we can consume - 50 = 1 small		
		MaxCoolant = #$/MaxCoolant$
		
		// Uninteresting stuff
		CoreToPartRatio = 0.1
		CoreTempGoalAdjustment = 0
		CoreEnergyMultiplier = 0.1
		HeatRadiantMultiplier = 0.05
		CoolingRadiantMultiplier = 0
		HeatTransferMultiplier = 0
		CoolantTransferMultiplier = 0.01
		radiatorCoolingFactor = 1
		radiatorHeatingFactor = 0.05
		MaxCalculationWarp = 1000
	}
}

// - - Beryllium
@PART[strl-rctrbeo-*]
{
	@cost *= #$/refPower$
	energyStart = 30000
	energyNorminal = 45000
	@energyStart *= #$/refPower$
	@energyNorminal *= #$/refPower$
	MaxCoolant = 2700
	@MaxCoolant *= #$/refPower$
	
	RESOURCE
	{
		name = Beryllium
		amount = 481
		maxAmount = 481
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = BerylOxide
		amount = 0
		maxAmount = 481
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = ThermalPower
		amount = 12
		maxAmount = 12
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 1000
		maxAmount = 1000
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	
	MODULE
	{
		name = ModuleOverheatDisplay
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Beryllium Reactor
		StartActionName = Start Beryllium Reactor
		StopActionName = Stop Beryllium Reactor
		ToggleActionName = Toggle Beryllium Reactor
		AutoShutdown = true
		GeneratesHeat = true
		DefaultShutoffTemp = 0.8
		EfficiencyBonus = 1
		resourceOutputName = ThermalPower
		
		TemperatureModifier
		{
			key = #0 $/energyStart$ 0 0
			key = #1500 $/energyNorminal$ 0 0
		}
		ThermalEfficiency
		{
			key = 0 0 0 0.004241135
			key = 300 0.9 0 0
			key = 1500 1 0 0
			key = 2400 0 -0.001515957 0
		}
		INPUT_RESOURCE
		{
			ResourceName = Beryllium
			Ratio = 0.004624
			@Ratio *= #$/refPower$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = 0.0005
			@Ratio *= #$/refPower$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		
		OUTPUT_RESOURCE
		{
			ResourceName = BerylOxide
			Ratio = 0.004624
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ThermalPower
			Ratio = 24
			@Ratio *= #$/refPower$
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
		// OUTPUT_RESOURCE
		// {
			// ResourceName = ElectricCharge
			// Ratio = 24000
			// @Ratio *= #$/refPower$
			// DumpExcess = false
			// FlowMode = ALL_VESSEL
		// }
	}
	
	MODULE
	{
		name = ModuleCoreHeat
		//Internal temp goal - we don't transfer till we hit this point
		CoreTempGoal = 1500
		//At what core temperature do we shut down all generators on this part?
		CoreShutdownTemp = 1600
		//Maximum amount of radiator capacity we can consume - 50 = 1 small		
		MaxCoolant = #$/MaxCoolant$
		
		// Uninteresting stuff
		CoreToPartRatio = 0.1
		CoreTempGoalAdjustment = 0
		CoreEnergyMultiplier = 0.1
		HeatRadiantMultiplier = 0.05
		CoolingRadiantMultiplier = 0
		HeatTransferMultiplier = 0
		CoolantTransferMultiplier = 0.01
		radiatorCoolingFactor = 1
		radiatorHeatingFactor = 0.05
		MaxCalculationWarp = 1000
	}
}

// - - SubCritical Multiplication
@PART[strl-rctrscm]
{
	@cost *= #$/refPower$
	
	RESOURCE
	{
		name = EnrichedUranium
		amount = 40
		maxAmount = 40
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = DepletedUranium
		amount = 0
		maxAmount = 40
		@maxAmount *= #$/refPower$
	}
	// RESOURCE
	// {
		// name = ThermalPower
		// amount = 0.4
		// maxAmount = 0.4
		// @amount *= #$/refPower$
		// @maxAmount *= #$/refPower$
	// }
	RESOURCE
	{
		name = ElectricCharge
		amount = 40
		maxAmount = 40
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		requiresAllInputs = true
		INPUT_RESOURCE
		{
			name = EnrichedUranium
			rate = 0.00000009536265
		}
		OUTPUT_RESOURCE
		{
			name = DepletedUranium
			rate = 0.00000009536265
		}
		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 27
		}
	}
	MODULE
	{
		name = ModuleOverheatDisplay
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Nuclear Reactor
		StartActionName = Start Nuclear Reactor
		StopActionName = Stop Nuclear Reactor
		ToggleActionName = Toggle Nuclear Reactor
		AutoShutdown = true
		GeneratesHeat = true
		DefaultShutoffTemp = 0.8
		EfficiencyBonus = 1
		resourceOutputName = ThermalPower
		
		TemperatureModifier
		{
			key = 0 25000 0 0
			key = 600 20000 -12.20591 -12.20591
			key = 1350 15000 0 0
		}
		ThermalEfficiency
		{
			key = 0 3 0 0
			key = 600 1 0 0
			key = 700 1 0 0
			key = 1200 0
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.00000141278
			FlowMode = NO_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = DepletedUranium
			Ratio = 0.00000141278
			FlowMode = NO_FLOW
		}
		// OUTPUT_RESOURCE
		// {
			// ResourceName = ThermalPower
			// Ratio = 0.4
			// DumpExcess = false
			// FlowMode = ALL_VESSEL
		// }
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 400
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	
	MODULE
	{
		name = ModuleCoreHeat
		//Internal temp goal - we don't transfer till we hit this point
		CoreTempGoal = 600
		//At what core temperature do we shut down all generators on this part?
		CoreShutdownTemp = 1600
		//Maximum amount of radiator capacity we can consume - 50 = 1 small		
		MaxCoolant = 700
		
		// Uninteresting stuff
		CoreToPartRatio = 0.1
		CoreTempGoalAdjustment = 0
		CoreEnergyMultiplier = 0.1
		HeatRadiantMultiplier = 0.05
		CoolingRadiantMultiplier = 0
		HeatTransferMultiplier = 0
		CoolantTransferMultiplier = 0.01
		radiatorCoolingFactor = 1
		radiatorHeatingFactor = 0.05
		MaxCalculationWarp = 1000
	}
}


// - - KRUSTY
@PART[strl-rctrkrusty]
{
	RESOURCE
	{
		name = EnrichedUranium
		amount = 70
		maxAmount = 70
		@amount *= #$/refPower$
		@maxAmount *= #$/refPower$
	}
	RESOURCE
	{
		name = DepletedUranium
		amount = 0
		maxAmount = 70
		@maxAmount *= #$/refPower$
	}
	MODULE
	{
		name = ModuleOverheatDisplay
	}
	// MODULE
	// {
		// name = ModuleGenerator
		// isAlwaysActive = true
		// OUTPUT_RESOURCE
		// {
			// name = ElectricCharge
			// rate = 13.5
		// }
	// }
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Nuclear Reactor
		StartActionName = Start Nuclear Reactor
		StopActionName = Stop Nuclear Reactor
		ToggleActionName = Toggle Nuclear Reactor
		AutoShutdown = true
		GeneratesHeat = true
		DefaultShutoffTemp = 0.8
		EfficiencyBonus = 1
		isAlwaysActive = True
		resourceOutputName = ElectricCharge
		
		TemperatureModifier
		{
			key = 240 1150 0 0
			key = 499 2250 -1.147305 -46.264
			key = 500 0 0 0
		}
		ThermalEfficiency 
		{
			key = 240 0
			key = 495 1 0 0
			key = 505 1 0 0
			key = 700 0 0 0
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.000000047681325
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedUranium
			Ratio = 0.000000047681325
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 13.5
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	
	MODULE
	{
		name = ModuleCoreHeat
		//Internal temp goal - we don't transfer till we hit this point
		CoreTempGoal = 500
		//At what core temperature do we shut down all generators on this part?
		CoreShutdownTemp = 700
		//Maximum amount of radiator capacity we can consume - 50 = 1 small		
		MaxCoolant = 0
		
		// Uninteresting stuff
		CoreToPartRatio = 0.1
		CoreTempGoalAdjustment = 0
		CoreEnergyMultiplier = 0.1
		HeatRadiantMultiplier = 0.05
		CoolingRadiantMultiplier = 0
		HeatTransferMultiplier = 0
		CoolantTransferMultiplier = 0.01
		radiatorCoolingFactor = 1
		radiatorHeatingFactor = 0.05
		MaxCalculationWarp = 1000
		// PassiveEnergy
		// {
			// key = 280 250 0 0
			// key = 430 1140 18.3416 18.3416
			// key = 495 2250 -1.147305 -46.264
			// key = 501 0 0 0
		// }
	}
}


// - - Fuel Cells
B9_TANK_TYPE:NEEDS[CommunityResourcePack]
{
	name = MAECAlumina
	tankMass = 0
	tankCost = 0

	RESOURCE
	{
		name = ElectricCharge
		unitsPerVolume = 1
	}
	RESOURCE
	{
		name = Aluminium
		unitsPerVolume = 2.5
	}
	RESOURCE
	{
		name = Alumina
		unitsPerVolume = 2.5
		percentFilled = 0
	}
}

B9_TANK_TYPE:NEEDS[CommunityResourcePack]
{
	name = MAECQuartz
	tankMass = 0
	tankCost = 0

	RESOURCE
	{
		name = ElectricCharge
		unitsPerVolume = 1
	}
	RESOURCE
	{
		name = Silicon
		unitsPerVolume = 2.5
	}
	RESOURCE
	{
		name = LqdQuartz
		unitsPerVolume = 2.5
		percentFilled = 0
	}
}

B9_TANK_TYPE:NEEDS[CommunityResourcePack]
{
	name = MAECBeryl
	tankMass = 0
	tankCost = 0

	RESOURCE
	{
		name = ElectricCharge
		unitsPerVolume = 1
	}
	RESOURCE
	{
		name = Beryllium
		unitsPerVolume = 2.5
	}
	RESOURCE
	{
		name = BerylOxide
		unitsPerVolume = 2.5
		percentFilled = 0
	}
}

@PART[strl-fuelcell-*]:NEEDS[CommunityResourcePack]
{
	RatioAl = 0.3610 //1083
	RatioO2Al = 0.3828 //44765 // LqdOxygen
	RatioOXAl = 0.0873 //65175 // Oxidizer
	RatioECAl = 16000
	RatioTPAl = 8
	RatioAl2O3 = 0.3610 //1083
	// O2 ratios are fudged to keep Aluminium and Alumina storage 1:1
	
	RatioSi = 0.4293 //68828
	RatioO2Si = 0.4293 //68828 // LqdOxygen
	RatioOXSi = 0.0979 //81967 // Oxidizer
	RatioECSi = 15000
	RatioTPSi = 7.5
	RatioSiO2 = 0.8555 //4
	
	RatioBe = 1.3319 //12627
	RatioO2Be = 1.9978 //6894 // LqdOxygen
	RatioOXBe = 0.4559 //13692 // Oxidizer
	RatioECBe = 24000
	RatioTPBe = 12
	RatioBeO2 = 1.3319 //12627
	
	@RatioAl *= #$refPower$
	@RatioOXAl *= #$refPower$
	@RatioO2Al *= #$refPower$
	@RatioECAl *= #$refPower$
	@RatioTPAl *= #$refPower$
	@RatioAl2O3 *= #$refPower$
	
	@RatioSi *= #$refPower$
	@RatioOXSi *= #$refPower$
	@RatioO2Si *= #$refPower$
	@RatioECSi *= #$refPower$
	@RatioTPSi *= #$refPower$
	@RatioSiO2 *= #$refPower$
	
	@RatioBe *= #$refPower$
	@RatioOXBe *= #$refPower$
	@RatioO2Be *= #$refPower$
	@RatioECBe *= #$refPower$
	@RatioTPBe *= #$refPower$
	@RatioBeO2 *= #$refPower$
	
	desc_quickload_warn = #LOC_strl_quickload_warn // convert LOC to variable so it can be MM regexed
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = #autoLOC_502022 // Fuel Cell
		StartActionName = #autoLOC_502023 // Start Fuel Cell
		StopActionName = #autoLOC_502024 // Stop Fuel Cell
		ToggleActionName = #autoLOC_502025 // Toggle Fuel Cell
		FillAmount = 0.95
		AutoShutdown = False
		GeneratesHeat = False
		UseSpecialistBonus = False
		INPUT_RESOURCE
		{
			ResourceName = Aluminium
			Ratio = #$/RatioAl$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = #$/RatioOXAl$
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Alumina
			Ratio = #$/RatioAl2O3$
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ThermalPower
			Ratio = #$/RatioTPAl$
			DumpExcess = True
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = #$/RatioECAl$
		}
	}
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Recharger
		StartActionName = Start Recharger
		StopActionName = Stop Recharger
		ToggleActionName = Toggle Recharger
		FillAmount = 1
		AutoShutdown = False
		GeneratesHeat = False
		UseSpecialistBonus = False
		INPUT_RESOURCE
		{
			ResourceName = Alumina
			Ratio = #$/RatioAl2O3$
			@Ratio *= 0.75
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = #$/RatioECAl$
			@Ratio *= 0.75
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Aluminium
			Ratio = #$/RatioAl$
			@Ratio *= 0.75
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = #$/RatioOXAl$
			@Ratio *= 0.75
			DumpExcess = True
		}
	}
	
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]
	{
		@baseVolume = #$/refVolume$
		@SUBTYPE[Aluminium]
		{
			tankType = MAECAlumina
			descriptionSummary = #LOC_strl_MAECmetalSwitchSummary
			descriptionDetail = #<b>Inputs = </b> $/RatioAl$ Al/s + $/RatioOXAl$ OX/s.<br><b>Outputs = </b>$/RatioECAl$ EC/s + $/RatioTPAl$ TP/s.
			@descriptionDetail = #$descriptionDetail$ $/desc_quickload_warn$
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Fuel Cell
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = Aluminium
						Ratio = #$/RatioAl$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXAl$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Alumina
						Ratio = #$/RatioAl2O3$
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ThermalPower
						Ratio = #$/RatioTPAl$
						DumpExcess = True
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECAl$
					}
				}
			}
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Recharger
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECAl$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = Alumina
						Ratio = #$/RatioAl2O3$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Aluminium
						Ratio = #$/RatioAl$
						@Ratio *= 0.75
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXAl$
						@Ratio *= 0.75
						DumpExcess = True
					}
				}
			}
		}
		@SUBTYPE[Silicon]
		{
			tankType = MAECQuartz
			descriptionSummary = #LOC_strl_MAECmetalSwitchSummary
			descriptionDetail = #<b>Inputs = </b> $/RatioSi$ Si/s + $/RatioOXSi$ OX/s.<br><b>Outputs = </b> $/RatioECSi$ EC/s + $/RatioTPSi$ TP/s.
			@descriptionDetail = #$descriptionDetail$ $/desc_quickload_warn$
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Fuel Cell
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = Silicon
						Ratio = #$/RatioSi$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXSi$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = LqdQuartz
						Ratio = #$/RatioSiO2$
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ThermalPower
						Ratio = #$/RatioTPSi$
						DumpExcess = True
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECSi$
					}
				}
			}
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Recharger
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECSi$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = LqdQuartz
						Ratio = #$/RatioSiO2$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Silicon
						Ratio = #$/RatioSi$
						@Ratio *= 0.75
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXSi$
						@Ratio *= 0.75
						DumpExcess = True
					}
				}
			}
		}
		@SUBTYPE[Beryllium]
		{
			tankType = MAECBeryl
			descriptionSummary = #LOC_strl_MAECmetalSwitchSummary
			descriptionDetail = #<b>Inputs = </b> $/RatioBe$ Be/s + $/RatioOXBe$ OX/s.<br><b>Outputs = </b> $/RatioECBe$ EC/s + $/RatioTPBe$ TP/s.
			@descriptionDetail = #$descriptionDetail$ $/desc_quickload_warn$
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Fuel Cell
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = Beryllium
						Ratio = #$/RatioBe$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXBe$
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = BerylOxide
						Ratio = #$/RatioBeO2$
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ThermalPower
						Ratio = #$/RatioTPBe$
						DumpExcess = True
					}
					OUTPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECBe$
					}
				}
			}
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleResourceConverter
					ConverterName = Recharger
				}
				DATA
				{
					INPUT_RESOURCE
					{
						ResourceName = ElectricCharge
						Ratio = #$/RatioECBe$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					INPUT_RESOURCE
					{
						ResourceName = BerylOxide
						Ratio = #$/RatioBeO2$
						@Ratio *= 0.75
						FlowMode = STAGE_PRIORITY_FLOW
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Beryllium
						Ratio = #$/RatioBe$
						@Ratio *= 0.75
					}
					OUTPUT_RESOURCE
					{
						ResourceName = Oxidizer
						Ratio = #$/RatioOXBe$
						@Ratio *= 0.75
						DumpExcess = True
					}
				}
			}
		}
	}
}

@PART[strl-fuelcell-*]:HAS[#RatioAl]:NEEDS[CommunityResourcePack]
{
	!RatioAl = nope
	!RatioOXAl = nope
	!RatioO2Al = nope
	!RatioECAl = nope
	!RatioTPAl = nope
	!RatioAl2O3 = nope
	
	!RatioSi = nope
	!RatioOXSi = nope
	!RatioO2Si = nope
	!RatioECSi = nope
	!RatioTPSi = nope
	!RatioSiO2 = nope
	
	!RatioBe = nope
	!RatioOXBe = nope
	!RatioO2Be = nope
	!RatioECBe = nope
	!RatioTPBe = nope
	!RatioBeO2 = nope
	
	!desc_quickload_warn = nope
}